# 常见问题（FAQ）

## 安装问题

### Q: 安装依赖时提示 "Microsoft Visual C++ 14.0 is required"？

**A**: 安装 Visual C++ 生成工具：
1. 下载 [Visual Studio Build Tools](https://visualstudio.microsoft.com/visual-cpp-build-tools/)
2. 安装时勾选 "C++ 生成工具"
3. 重新运行 `pip install -r requirements.txt`

### Q: pip 安装速度很慢？

**A**: 使用国内镜像源：
```bash
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### Q: 提示 Python 版本不对？

**A**: 本项目要求 **Python 3.10.9**。其他版本可能导致依赖安装失败。

### Q: git clone 失败？

**A**: 尝试以下方法：
1. 使用 Gitee 镜像（如果有）
2. 使用 VPN
3. 直接下载 ZIP 包

---

## 运行问题

### Q: 程序无法识别兵种/建筑？

**A**: 检查以下设置：
1. ✅ 模拟器分辨率：800×600
2. ✅ 模拟器 DPI：160
3. ✅ Windows 缩放：100%
4. ✅ 关闭所有滤镜插件
5. ✅ 使用游戏默认皮肤

### Q: 提示 "窗口绑定失败"？

**A**:
1. 确保雷电模拟器已启动
2. 确保游戏已打开
3. 检查模拟器索引是否正确
4. 尝试以管理员身份运行程序

### Q: 提示 "op免注册失败"？

**A**:
1. 确保 `核心/op-0.4.5_with_model/` 目录完整
2. 安装 Visual C++ 运行库（[下载](https://docs.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist)）

### Q: 程序卡在某个状态不动？

**A**:
1. 查看日志输出，确认卡在哪一步
2. 手动检查游戏是否正常
3. 尝试重启模拟器
4. 重启程序

### Q: 程序识别到了但点击位置不对？

**A**:
1. 检查 Windows 缩放是否为 100%
2. 检查模拟器是否有边框/工具栏影响坐标
3. 确保模拟器分辨率严格为 800×600

---

## 配置问题

### Q: 多账号如何配置？

**A**:
1. 使用雷电多开器创建多个模拟器
2. 每个模拟器登录不同账号
3. 在 UI 中为每个账号创建独立配置
4. 模拟器索引从 0 开始（对应多开器序号）

### Q: 夜世界如何使用？

**A**:
1. 在游戏中切换到夜世界
2. 配置中选择"只打夜世界"或"先打满主世界再打夜世界"
3. 夜世界目前仅支持单一兵种配置

### Q: 如何设置刷墙？

**A**:
1. 开启"是否开启刷墙"
2. 设置"刷墙起始金币"和"刷墙起始圣水"
3. 当资源超过设定值时会自动刷墙

### Q: 英雄升级怎么配置？

**A**:
1. 在"欲升级的英雄"中勾选想要升级的英雄
2. 确保有足够的资源和建造工人
3. 程序会自动检测并升级

---

## 功能问题

### Q: 支持哪些兵种？

**A**: 支持大部分常用兵种，包括：
- **普通兵种**：野蛮人、弓箭手、巨人、哥布林、飞龙、矿工等
- **超级兵种**：超级野蛮人、超级飞龙、超级哥布林
- **英雄**：野蛮人之王、弓箭女皇、大守护者、飞盾战神、亡灵王子

### Q: 支持哪些法术？

**A**: 支持自动释放以下法术：
- 镜像法术（在最后下兵位置释放）
- 图腾法术、地震法术、蝙蝠法术、闪电法术、骷髅法术（预设坐标随机释放）

### Q: 天鹰火炮成就怎么用？

**A**:
1. 需要自己训练天鹰火炮检测模型
2. 或者等待项目更新集成天鹰火炮检测
3. 参考 [YOLO检测器完整指南](../开发指南/06-YOLO检测器完整指南.md)

### Q: YOLO 检测器能检测什么？

**A**: 项目自带模型仅支持 4 种：
- 金矿
- 金库
- 圣水采集器
- 圣水瓶

检测其他目标需要自己训练模型。

---

## 性能问题

### Q: 程序占用 CPU/内存很高？

**A**:
1. 减少同时运行的机器人数量
2. 降低模拟器性能设置
3. 关闭不必要的后台程序

### Q: 程序运行越来越慢？

**A**:
1. 重启程序
2. 清理日志文件
3. 检查磁盘空间

---

## 安全问题

### Q: 使用这个工具会封号吗？

**A**: **有封号风险**。
- 本工具违反游戏服务条款
- 使用自动化工具可能导致账号被永久封禁
- 请仅用于学习研究，不要用于真实账号

### Q: 程序需要什么权限？

**A**:
- 屏幕截图权限
- 模拟鼠标/键盘权限
- 读写配置文件权限

---

## 其他问题

### Q: 如何反馈问题？

**A**: 在 [GitHub Issues](https://github.com/qilishidai/coc_robot/issues) 提交问题。

### Q: 如何获取最新版本？

**A**:
```bash
cd coc_robot
git pull
```

### Q: 如何备份配置？

**A**: 备份 `数据库/任务数据库.db` 文件。

### Q: 国服能用吗？

**A**: 目前仅支持国际服。

---

## 更多帮助

- [快速开始](./快速开始.md) - 安装指南
- [自动启动功能](./自动启动功能.md) - 定时任务
- [命令行使用](./命令行使用.md) - 高级用法
